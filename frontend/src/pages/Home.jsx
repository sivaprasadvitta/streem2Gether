import React, { useState } from 'react'
import { useNavigate } from 'react-router-dom';
import axios from 'axios';

import BASE_URL from '../utils/constant'



function Home() {
  const navigate = useNavigate();
  const [roomId, setRoomId] = useState("");
  const [loding,setLoding] = useState(false);


  const createRoom = async () => {

    try {
      setLoding(true);
      const respose = await axios.post(BASE_URL + '/api/rooms');
      setRoomId(respose.data.roomId);
      // console.log(roomId);
      setLoding(false)
      navigate(`/room/${respose.data.roomId}`);

    }catch(error){
      setLoding(false)
      console.log(error.message)
    }

  }

  if(loding) return <div>Loding...</div>

  return (
    <div className="relative">
      <img
        className="w-full h-screen object-cover"
        src="https://images.unsplash.com/photo-1519681393784-d120267933ba?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80"
        alt="Watch2Gether Banner"
      />
      <div className="absolute inset-0 flex flex-col gap-6 items-center -mt-70 bg-opacity-60 bg-w2g-light border-w2g-light border justify-center">
        <h1 className="text-black text-4xl shadow-xl font-bold">Welcome to - Streem2Gether</h1>
        <button
          onClick={createRoom}
          className='bg-black text-white p-2 rounded cursor-pointer'>Create Room
        </button>
        <div className='flex gap-3'>
          <svg className="fill-black h-6" role="img" viewBox="0 0 24 24"><title>YouTube</title><path d="M23.498 6.186a3.02 3.02 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.02 3.02 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.02 3.02 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.02 3.02 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814M9.545 15.568V8.432L15.818 12z"></path></svg>
          <svg className="fill-black h-6" role="img" viewBox="0 0 24 24"><title>Twitch</title><path d="M11.571 4.714h1.715v5.143H11.57zm4.715 0H18v5.143h-1.714zM6 0 1.714 4.286v15.428h5.143V24l4.286-4.286h3.428L22.286 12V0zm14.571 11.143-3.428 3.428h-3.429l-3 3v-3H6.857V1.714h13.714Z"></path></svg>
          <svg className="fill-black h-6" role="img" viewBox="0 0 24 24"><title>Vimeo</title><path d="M23.977 6.417c-.105 2.338-1.74 5.543-4.894 9.609-3.268 4.247-6.026 6.37-8.29 6.37-1.41 0-2.578-1.294-3.553-3.881L5.322 11.4Q4.244 7.524 3.01 7.523q-.27 0-1.881 1.132l-1.13-1.457A315 315 0 0 0 3.502 4.07C5.08 2.702 6.266 1.985 7.055 1.91q2.8-.27 3.447 3.839.698 4.43.97 5.507.81 3.675 1.777 3.674.752 0 2.265-2.385 1.505-2.383 1.612-3.628c.144-1.371-.395-2.061-1.614-2.061-.574 0-1.167.12-1.777.39C14.92 3.38 17.169 1.49 20.497 1.61c2.473.06 3.628 1.664 3.493 4.797z"></path></svg>
          <svg className="fill-black h-6" role="img" viewBox="0 0 24 24"><title>SoundCloud</title><path d="M1.175 12.225c-.051 0-.094.046-.101.1l-.233 2.154.233 2.105c.007.058.05.098.101.098.05 0 .09-.04.099-.098l.255-2.105-.27-2.154c0-.057-.045-.1-.09-.1m-.899.828c-.06 0-.091.037-.104.094L0 14.479l.165 1.308c0 .055.045.094.09.094s.089-.045.104-.104l.21-1.319-.21-1.334c0-.061-.044-.09-.09-.09m1.83-1.229c-.061 0-.12.045-.12.104l-.21 2.563.225 2.458c0 .06.045.12.119.12.061 0 .105-.061.121-.12l.254-2.474-.254-2.548c-.016-.06-.061-.12-.121-.12m.945-.089c-.075 0-.135.06-.15.135l-.193 2.64.21 2.544c.016.077.075.138.149.138.075 0 .135-.061.15-.15l.24-2.532-.24-2.623a.134.134 0 0 0-.135-.135zm1.155.36a.155.155 0 0 0-.159-.149c-.09 0-.158.06-.164.149l-.217 2.43.2 2.563c0 .09.075.157.159.157.074 0 .148-.068.148-.158l.227-2.563-.227-2.444zm.809-1.709c-.101 0-.18.09-.18.181l-.21 3.957.187 2.563c0 .09.08.164.18.164.094 0 .174-.09.18-.18l.209-2.563-.209-3.972c-.008-.104-.088-.18-.18-.18m.959-.914a.21.21 0 0 0-.203.194l-.18 4.872.165 2.548c0 .12.09.209.195.209.104 0 .194-.089.21-.209l.193-2.548-.192-4.856c-.016-.12-.105-.21-.21-.21m.989-.449c-.121 0-.211.089-.225.209l-.165 5.275.165 2.52c.014.119.104.225.225.225a.23.23 0 0 0 .225-.225l.195-2.52-.196-5.275a.23.23 0 0 0-.225-.225m1.245.045a.237.237 0 0 0-.24-.24.247.247 0 0 0-.24.24l-.149 5.441.149 2.503c.016.135.121.24.256.24s.24-.105.24-.24l.164-2.503-.164-5.456zm.749-.134a.26.26 0 0 0-.255.254l-.15 5.322.15 2.473c0 .15.12.255.255.255s.255-.12.255-.27l.15-2.474-.165-5.307a.27.27 0 0 0-.271-.27m1.005.166a.285.285 0 0 0-.284.285l-.103 5.143.135 2.474c0 .149.119.277.284.277.149 0 .271-.12.284-.285l.121-2.443-.135-5.112c-.012-.164-.135-.285-.285-.285m1.184-.945a.3.3 0 0 0-.165-.044.3.3 0 0 0-.165.044.3.3 0 0 0-.149.255v.061l-.104 6.048.115 2.449v.008c.008.06.03.135.074.18a.33.33 0 0 0 .234.104c.08 0 .158-.044.209-.09a.31.31 0 0 0 .091-.225l.015-.24.117-2.203-.135-6.086a.29.29 0 0 0-.135-.239zm1.006-.547a.2.2 0 0 0-.15-.061.34.34 0 0 0-.209.061.31.31 0 0 0-.119.24v.029l-.137 6.609.076 1.215.061 1.185c0 .164.148.314.328.314s.33-.15.33-.329l.15-2.414-.15-6.637a.33.33 0 0 0-.165-.277m8.934 3.777a2.9 2.9 0 0 0-1.139.232 5.204 5.204 0 0 0-5.188-4.736c-.659 0-1.305.135-1.889.359-.225.09-.27.18-.285.359v9.368c.016.18.15.33.33.345h8.185C22.681 17.218 24 15.914 24 14.28s-1.319-2.952-2.938-2.952"></path></svg>
          <svg className="fill-black h-6" role="img" viewBox="0 0 24 24"><title>TikTok</title><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07"></path></svg>
          <svg className="fill-black h-6" role="img" viewBox="0 0 24 24"><title>Dailymotion</title><path d="M14.068 11.313a3.104 3.104 0 0 0-3.104 3.11c0 1.753 1.35 3.085 3.255 3.085l-.016.002c1.59 0 2.925-1.31 2.925-3.04 0-1.8-1.336-3.157-3.062-3.157zM0 0v24h24V0zm20.693 20.807h-3.576v-1.41c-1.1 1.08-2.223 1.47-3.715 1.47q-2.283 0-3.93-1.485c-1.448-1.275-2.198-2.97-2.198-4.936 0-1.8.7-3.414 2.01-4.674 1.17-1.146 2.595-1.73 4.185-1.73 1.52 0 2.69.513 3.53 1.59V4.157l3.693-.765V3.39l.002.003h-.002z"></path></svg>
        </div>

      </div>


    </div>

  )
}

export default Home